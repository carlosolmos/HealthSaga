# Health Saga - AI Coding Instructions

## Overview
Personal health tracking SPA built with React 19 + TypeScript + Vite. Runs entirely client-side with localStorage persistence — no backend, no API, no auth.

## Architecture
- **Single-component app**: Nearly all logic lives in `src/components/HealthSaga.tsx` (~500+ lines). This is the file you'll almost always be editing.
- **Entry chain**: `index.html` → `src/main.tsx` → `src/App.tsx` → `HealthSaga`
- **Tab-based navigation**: Four tabs (`today`, `meals`, `metrics`, `calendar`) managed by `activeTab` state string.
- **Legacy duplicate**: `app/zen-health-tracker.tsx` is an older copy — ignore it. The active version is under `src/components/`.

## State & Data Persistence
- Custom `useLocalStorage<T>` hook (defined inline in HealthSaga.tsx) wraps `useState` + `localStorage.setItem` via `useCallback`.
- **Daily data** (`healthsaga-today`): Wraps data with `{ date, data }` envelope. Auto-resets when `date !== today` via `loadTodayData()`.
- **Metrics** (`healthsaga-metrics`): Blood pressure, heart rate, weight. Persists indefinitely.
- **Reminders** (`healthsaga-reminders`): Walk reminder times. Persists indefinitely.
- State updates use immutable patterns (spread operators, functional `setState`).

## Styling Conventions
- **All inline styles** — no CSS modules, no Tailwind, no styled-components. Styles are JS objects.
- **Earth-tone palette**: Sage greens (`#8b9d83`, `#6b7c64`), teal accents (`#7da8a0`), warm neutrals (`#f5f3f0`, `#e8e6e1`).
- **Card-based layout**: Rounded corners (`12px`), soft shadows, `0.3s ease` transitions.
- **Max-width**: 800px centered container. Mobile-friendly single-column.

## Key Patterns
- Functional components only, arrow function style.
- Icons from `lucide-react` — import individually (e.g., `import { Plus, Check } from 'lucide-react'`).
- Expandable sections use `ChevronRight`/`ChevronDown` toggle pattern.
- Food/nutrition data is hardcoded as const objects inside the component.
- No external state management (no Redux, Zustand, etc.).

## Commands
```bash
npm run dev      # Vite dev server with HMR
npm run build    # tsc type-check + vite build → dist/
npm run preview  # Serve production build locally
```

## Domain Context
Tracks daily health habits for a specific wellness plan:
- **Supplements**: Breakfast (multivitamin, D3+K2) and dinner (omega-3, magnesium CitraMate)
- **Hydration**: 60oz daily goal in 8oz increments
- **Walking**: Activity logs + 3 configurable reminders
- **Meals**: Approved foods guide with specific dietary rules (100g protein, 30g fiber, ≤36g sugar daily)
- **Metrics**: BP, heart rate, weight tracking
- **Calendar**: Medical appointments (DHA Lab/Labcorp)

## What's Missing (not yet implemented)
- No testing framework or tests
- No linting/formatting config (no ESLint/Prettier)
- Metrics trend charts (placeholder "coming soon")
- No service worker / PWA support
- No data export/import
